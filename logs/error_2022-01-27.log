
ERROR __init__.py:97 Error: Directory migrations already exists and is not empty
ERROR __init__.py:97 Error: Directory migrations already exists and is not empty
ERROR __init__.py:98 Error: Directory migrations already exists and is not empty
ERROR checkUser.py:41 decoding to str: need a bytes-like object, NoneType found, 7acc4cfe-1153-4858-9233-72db1321a89e验证码过期
ERROR checkUser.py:42 decoding to str: need a bytes-like object, NoneType found, 3f442abf-48a1-492b-8871-20a65382314e验证码过期
ERROR checkUser.py:42 decoding to str: need a bytes-like object, NoneType found, 1561b4e2-c94a-45a1-9cba-ac7a153e62a7验证码过期
ERROR app.py:1457 Exception on /api_1/register [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 109, in register
    user = models.User(name=mobile, mobile=mobile, passwrod=pwd)
  File "<string>", line 4, in __init__
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/state.py", line 480, in _initialize_instance
    manager.dispatch.init_failure(self, args, kwargs)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/state.py", line 477, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/decl_base.py", line 1154, in _declarative_constructor
    raise TypeError(
TypeError: 'passwrod' is an invalid keyword argument for User
ERROR checkUser.py:102 decoding to str: need a bytes-like object, NoneType found, redis链接错误
ERROR app.py:1457 Exception on /api_1/register [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 109, in register
    user = models.User(name=mobile, mobile=mobile, passwrod=pwd)
  File "<string>", line 4, in __init__
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/state.py", line 480, in _initialize_instance
    manager.dispatch.init_failure(self, args, kwargs)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/state.py", line 477, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/decl_base.py", line 1154, in _declarative_constructor
    raise TypeError(
TypeError: 'passwrod' is an invalid keyword argument for User
ERROR app.py:1457 Exception on /api_1/register [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 110, in register
    user.password(pwd)
  File "/home/lqs/桌面/git/ihome/ihome/models.py", line 37, in password
    raise AttributeError("这个属性只能设置，不能读取")
AttributeError: 这个属性只能设置，不能读取
ERROR checkUser.py:102 decoding to str: need a bytes-like object, NoneType found, redis链接错误
ERROR checkUser.py:42 decoding to str: need a bytes-like object, NoneType found, 8483ed37-0371-432b-865d-68618395fd7e验证码过期
ERROR checkUser.py:145 'Redis' object has no attribute 'expried', redis连接错误
ERROR checkUser.py:145 'Redis' object has no attribute 'expried', redis连接错误
ERROR checkUser.py:145 'Redis' object has no attribute 'exprie', redis连接错误
ERROR checkUser.py:145 'Redis' object has no attribute 'exprie', redis连接错误
ERROR checkUser.py:145 'Redis' object has no attribute 'exprie', redis连接错误
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={user: user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not User
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={user: user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not User
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={user: user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not User
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={user: user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not User
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={"user": user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/usr/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable
ERROR app.py:1457 Exception on /api_1/session [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/checkUser.py", line 167, in login_check
    return jsonify(errno=statusCode.OK, errmsg="true", data={"user": user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/usr/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 9, in user_avatar
    fdfs_storage.FDFSStorage.save(avatar.read())
TypeError: save() missing 1 required positional argument: 'content'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 9, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 9, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 9, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 9, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 9, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 9, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 13, in user_avatar
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 13, in user_avatar
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 13, in user_avatar
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 9, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 9, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 51, in __init__
    self.tracker_pool = poolclass(**self.trackers)
TypeError: type object argument after ** must be a mapping, not str
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/usr/lib/python3.8/configparser.py", line 789, in get
    value = d[option]
  File "/usr/lib/python3.8/collections/__init__.py", line 898, in __getitem__
    return self.__missing__(key)            # support subclasses that define __missing__
  File "/usr/lib/python3.8/collections/__init__.py", line 890, in __missing__
    raise KeyError(key)
KeyError: 'connect_timeout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 9, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 46, in __init__
    self.trackers = get_tracker_conf(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 21, in get_tracker_conf
    timeout = cf.getint('__config__', 'connect_timeout')
  File "/usr/lib/python3.8/configparser.py", line 818, in getint
    return self._get_conv(section, option, int, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 808, in _get_conv
    return self._get(section, conv, option, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 803, in _get
    return conv(self.get(section, option, **kwargs))
  File "/usr/lib/python3.8/configparser.py", line 792, in get
    raise NoOptionError(option, section)
configparser.NoOptionError: No option 'connect_timeout' in section: '__config__'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar)
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    content = content.read()
AttributeError: 'NoneType' object has no attribute 'read'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/usr/lib/python3.8/configparser.py", line 789, in get
    value = d[option]
  File "/usr/lib/python3.8/collections/__init__.py", line 898, in __getitem__
    return self.__missing__(key)            # support subclasses that define __missing__
  File "/usr/lib/python3.8/collections/__init__.py", line 890, in __missing__
    raise KeyError(key)
KeyError: 'connect_timeout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 46, in __init__
    self.trackers = get_tracker_conf(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 21, in get_tracker_conf
    timeout = cf.getint('__config__', 'connect_timeout')
  File "/usr/lib/python3.8/configparser.py", line 818, in getint
    return self._get_conv(section, option, int, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 808, in _get_conv
    return self._get(section, conv, option, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 803, in _get
    return conv(self.get(section, option, **kwargs))
  File "/usr/lib/python3.8/configparser.py", line 792, in get
    raise NoOptionError(option, section)
configparser.NoOptionError: No option 'connect_timeout' in section: '__config__'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/usr/lib/python3.8/configparser.py", line 789, in get
    value = d[option]
  File "/usr/lib/python3.8/collections/__init__.py", line 898, in __getitem__
    return self.__missing__(key)            # support subclasses that define __missing__
  File "/usr/lib/python3.8/collections/__init__.py", line 890, in __missing__
    raise KeyError(key)
KeyError: 'connect_timeout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 46, in __init__
    self.trackers = get_tracker_conf(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 21, in get_tracker_conf
    timeout = cf.getint('__config__', 'connect_timeout')
  File "/usr/lib/python3.8/configparser.py", line 818, in getint
    return self._get_conv(section, option, int, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 808, in _get_conv
    return self._get(section, conv, option, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 803, in _get
    return conv(self.get(section, option, **kwargs))
  File "/usr/lib/python3.8/configparser.py", line 792, in get
    raise NoOptionError(option, section)
configparser.NoOptionError: No option 'connect_timeout' in section: '__config__'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/usr/lib/python3.8/configparser.py", line 789, in get
    value = d[option]
  File "/usr/lib/python3.8/collections/__init__.py", line 898, in __getitem__
    return self.__missing__(key)            # support subclasses that define __missing__
  File "/usr/lib/python3.8/collections/__init__.py", line 890, in __missing__
    raise KeyError(key)
KeyError: 'connect_timeout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 46, in __init__
    self.trackers = get_tracker_conf(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 21, in get_tracker_conf
    timeout = cf.getint('__config__', 'connect_timeout')
  File "/usr/lib/python3.8/configparser.py", line 818, in getint
    return self._get_conv(section, option, int, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 808, in _get_conv
    return self._get(section, conv, option, raw=raw, vars=vars,
  File "/usr/lib/python3.8/configparser.py", line 803, in _get
    return conv(self.get(section, option, **kwargs))
  File "/usr/lib/python3.8/configparser.py", line 792, in get
    raise NoOptionError(option, section)
configparser.NoOptionError: No option 'connect_timeout' in section: '__config__'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 10, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 8, in save
    client = Fdfs_client(config_file)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 46, in __init__
    self.trackers = get_tracker_conf(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/client.py", line 20, in get_tracker_conf
    cf.read(conf_path)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/utils.py", line 88, in read
    self.readfp(fp)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/fdfs_client/utils.py", line 97, in readfp
    stream = StringIO()
NameError: name 'StringIO' is not defined
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 13, in user_avatar
    file_id = fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 10, in save
    raise Exception('文件存储失败')
Exception: 文件存储失败
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 12, in user_avatar
    file_id = fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 10, in save
    raise Exception('文件存储失败')
Exception: 文件存储失败
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 12, in user_avatar
    file_id = fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 10, in save
    raise Exception('文件存储失败')
Exception: 文件存储失败
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 12, in user_avatar
    file_id = fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 12, in save
    raise Exception('文件存储失败')
Exception: 文件存储失败
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1519, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1538, in finalize_request
    response = self.make_response(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1730, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a int.
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1519, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1538, in finalize_request
    response = self.make_response(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1730, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a int.
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1519, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1538, in finalize_request
    response = self.make_response(rv)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1730, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a int.
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 12, in user_avatar
    fdfs_storage.save(avatar.read())
  File "/home/lqs/桌面/git/ihome/ihome/utils/fdfs_storage.py", line 12, in save
    raise Exception('文件存储失败')
Exception: 文件存储失败
ERROR app.py:1457 Exception on /api_1/user [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 38, in get_avatar
    return  jsonify(errno=statusCode.OK, errmsg='头像获取成功', data={'avatar': avatar, 'user': user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/usr/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable
ERROR app.py:1457 Exception on /api_1/user [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 38, in get_avatar
    return  jsonify(errno=statusCode.OK, errmsg='头像获取成功', data={'avatar': avatar, 'user': user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/usr/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable
ERROR app.py:1457 Exception on /api_1/user [GET]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 38, in get_avatar
    return  jsonify(errno=statusCode.OK, errmsg='头像获取成功', data={'avatar': avatar, 'user': user})
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 355, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 133, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/usr/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({name: name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({name: name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({name: name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({"name": name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({"name": name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({"name": name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 32, in user_name
    user = User.query.get(user_id).update({"name": name})
AttributeError: 'User' object has no attribute 'update'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2599, in add
    state = attributes.instance_state(instance)
AttributeError: 'int' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 35, in user_name
    db.session.add(user)
  File "<string>", line 2, in add
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2601, in add
    util.raise_(
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'builtins.int' is not mapped

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 38, in user_name
    db.session.collback()
AttributeError: 'scoped_session' object has no attribute 'collback'
ERROR app.py:1457 Exception on /api_1/name [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2599, in add
    state = attributes.instance_state(instance)
AttributeError: 'int' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 35, in user_name
    db.session.add(user)
  File "<string>", line 2, in add
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2601, in add
    util.raise_(
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'builtins.int' is not mapped

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 38, in user_name
    db.session.callback()
AttributeError: 'scoped_session' object has no attribute 'callback'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 16, in user_avatar
    user = User.query.get(id=user_id)
TypeError: get() got an unexpected keyword argument 'id'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 16, in user_avatar
    user = User.query.get(id=user_id)
TypeError: get() got an unexpected keyword argument 'id'
ERROR app.py:1457 Exception on /api_1/avatar [POST]
Traceback (most recent call last):
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/lqs/桌面/git/ihome/venv/lib/python3.8/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/home/lqs/桌面/git/ihome/ihome/utils/login_check.py", line 17, in wrapper
    return view_func(*args, **kwargs)
  File "/home/lqs/桌面/git/ihome/ihome/api_1/userMessage.py", line 16, in user_avatar
    user = User.query.get(id=user_id)
TypeError: get() got an unexpected keyword argument 'id'
